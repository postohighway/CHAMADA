<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Chamada de Médiuns — Diagnóstico</title>
  <style>
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;margin:0;background:#f6f7fb}
    header{padding:14px 16px;background:#111827;color:#fff}
    .wrap{max-width:980px;margin:0 auto;padding:14px 12px}
    .card{background:#fff;border:1px solid #e5e7eb;border-radius:14px;padding:12px;margin:12px 0}
    .row{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
    .muted{color:#6b7280;font-size:14px}
    .ok{color:#065f46;font-weight:900}
    .bad{color:#b91c1c;font-weight:900}
    code{background:#f3f4f6;padding:2px 6px;border-radius:8px}
    .k{min-width:220px;font-weight:800}
  </style>
</head>
<body>
  <header>
    <div class="wrap">
      <div style="font-weight:900">Chamada de Médiuns — Painel de Diagnóstico</div>
      <div class="muted">Se algo não carregar, o motivo aparece aqui na tela.</div>
    </div>
  </header>

  <main class="wrap">
    <div class="card">
      <div class="row"><div class="k">1) index.html</div><div id="d_index" class="bad">NÃO</div></div>
      <div class="row"><div class="k">2) supabase-js</div><div id="d_supabase" class="bad">NÃO</div></div>
      <div class="row"><div class="k">3) app.js</div><div id="d_app" class="bad">NÃO</div></div>
      <div class="row"><div class="k">4) Teste SELECT</div><div id="d_select" class="bad">NÃO</div></div>
      <div style="margin-top:10px" class="muted">
        Dica: se <b>3) app.js</b> ficar “NÃO”, o problema é <b>caminho/arquivo/Pages</b>, não é Supabase.
      </div>
      <div style="margin-top:10px" class="muted">Mensagem:</div>
      <div id="d_msg" style="white-space:pre-wrap"></div>
    </div>

    <div class="card">
      <div class="muted">
        Teste manual rápido (abra no navegador):
        <div>• <code>.../app.js</code> deve abrir seu JS (não pode dar 404)</div>
        <div>• <code>.../index.html</code> deve mostrar este painel</div>
      </div>
    </div>
  </main>

  <script>
    // 1) index carregou
    document.getElementById("d_index").textContent = "OK";
    document.getElementById("d_index").className = "ok";
  </script>

  <!-- 2) supabase-js (UMD) -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/dist/umd/supabase.min.js"
          onload="document.getElementById('d_supabase').textContent='OK';document.getElementById('d_supabase').className='ok';"
          onerror="document.getElementById('d_msg').textContent='Falhou ao carregar supabase-js. Internet/CSP.';">
  </script>

  <!-- 3) app.js (se não carregar, fica NÂO) -->
  <script src="./app.js?v=diag1"></script>
</body>
</html>
